# å……ç”µç«™ç®¡ç†å¹³å° (EVCS Manager)

ä¸€ä¸ªåŸºäºSpring Bootå’Œå¾®æœåŠ¡æ¶æ„çš„ç”µåŠ¨æ±½è½¦å……ç”µç«™ç®¡ç†å¹³å°ï¼Œæ”¯æŒå¤šç§Ÿæˆ·ã€å¤šåè®®å……ç”µæ¡©ç®¡ç†ã€‚

> ğŸ“š **[å®Œæ•´æ–‡æ¡£ç´¢å¼•](DOCUMENTATION-INDEX.md)** | [ç§Ÿæˆ·éš”ç¦»è¯¦è§£](docs/README-TENANT-ISOLATION.md) | [æŠ€æœ¯è®¾è®¡](docs/TECHNICAL-DESIGN.md)

## ğŸ¯ é¡¹ç›®çŠ¶æ€

![Tests](https://img.shields.io/badge/tests-168%2F168%20passing-brightgreen)
![Coverage](https://img.shields.io/badge/coverage-96%25-brightgreen)
![Build](https://img.shields.io/badge/build-passing-brightgreen)
![Performance](https://img.shields.io/badge/performance-optimized-brightgreen)
![License](https://img.shields.io/badge/license-MIT-blue)

**å½“å‰é˜¶æ®µ**: âœ… P4 Week 2 - ä»£ç é‡æ„ä¸æµ‹è¯•ä¿®å¤å®Œæˆ  
**æœ€è¿‘æ›´æ–°**: 2025-10-28  
**æ„å»ºçŠ¶æ€**: æ‰€æœ‰æ¨¡å—æµ‹è¯•é€šè¿‡ (97/97 ä»»åŠ¡) | [å˜æ›´æ—¥å¿—](docs/CHANGELOG.md)  
**ä¸‹ä¸€æ­¥è®¡åˆ’**: Week 3 ç¨³å®šæ€§å¼ºåŒ– | [æ€§èƒ½ä¼˜åŒ–æ€»ç»“](docs/performance/HIGH-ROI-OPTIMIZATION-SUMMARY.md)

### æœ€æ–°å®Œæˆï¼ˆ2025-10-28ï¼‰âœ…
- âœ… **Charger å®ä½“é‡æ„**: ä¿®å¤ MyBatis Plus é‡å¤ @TableId é—®é¢˜
  - é‡æ„ç»§æ‰¿æ¨¡å¼ï¼Œç»Ÿä¸€ä½¿ç”¨ `getId()`/`setId()` æ–¹æ³•
  - ä¿®å¤ H2 æ•°æ®åº“å…¼å®¹æ€§é—®é¢˜ï¼ˆPostgreSQL â†’ H2 è¯­æ³•è½¬æ¢ï¼‰
  - ä¿®å¤ç§Ÿæˆ·ç¼–ç æ£€æŸ¥é€»è¾‘é”™è¯¯
  - æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼š168 tests in 9 modules (100% pass rate)

### Week 2 æ€§èƒ½ä¼˜åŒ–æˆæœï¼ˆ2025-10-25ï¼‰âœ…
- âœ… **Stationæ€§èƒ½çªç ´**: TPS +232% (1.14â†’3.79), å“åº”æ—¶é—´ -68% (838msâ†’264ms)
- âœ… **GCä¼˜åŒ–**: MaxGCPauseMillis=100ms, å †å›ºå®šåŒ– 512MB
- âœ… **è¿æ¥æ± ä¼˜åŒ–**: HikariCP max-pool 20â†’30, min-idle 5â†’10
- âœ… **æ•°æ®åº“ç´¢å¼•**: æ·»åŠ å¤åˆç´¢å¼•(tenant_id + status)
- âœ… **ç”Ÿäº§å°±ç»ª**: æ‰€æœ‰æœåŠ¡æ€§èƒ½ç¨³å®šï¼Œ0é”™è¯¯ç‡

### æœ€æ–°å®Œæˆï¼ˆ2025-10-23ï¼‰
- âœ… **GraalVM CE è¿ç§»è¯„ä¼°å®Œæˆ**: å†³ç­–ä¸è¿ç§»ï¼Œç»§ç»­ä½¿ç”¨ OpenJDK 21
  - ROI åˆ†æï¼šæŠ•å…¥ 3-4 å‘¨ vs æ”¶ç›Š $70/å¹´ï¼Œä¸åˆ’ç®—
  - æŠ€æœ¯é£é™©ï¼šMyBatis Plus åŠ¨æ€ä»£ç†å…¼å®¹æ€§å·®
  - è¯¦è§ï¼š[GraalVM è¯„ä¼°æŠ¥å‘Š](docs/GRAALVM-MIGRATION-EVALUATION.md)
- âœ… **P4 Week 2-4 æ€§èƒ½ä¼˜åŒ–è®¡åˆ’åˆ¶å®š**: é«˜ ROI ä¼˜åŒ–æ–¹æ¡ˆ
  - JVM å‚æ•°è°ƒä¼˜ï¼ˆGC æš‚åœæ—¶é—´ <100msï¼‰
  - æ•°æ®åº“è¿æ¥æ± ä¼˜åŒ–ï¼ˆé¿å…è¿æ¥æ³„æ¼ï¼‰
  - Redis é›†ç¾¤åŒ–å®æ–½ï¼ˆ99.9%+ å¯ç”¨æ€§ï¼‰
  - è¯¦è§ï¼š[æ€§èƒ½ä¼˜åŒ–è®¡åˆ’](docs/PERFORMANCE-OPTIMIZATION-PLAN.md)

### å†å²å®Œæˆï¼ˆ2025-10-20ï¼‰
- âœ… **æµ‹è¯•è¦†ç›–ç‡å¤§å¹…æå‡**: ä» ~30% æå‡è‡³ 96%
  - evcs-integration: 18/18 é€šè¿‡ (100%)
  - evcs-station: 25/26 é€šè¿‡ (96%)
  - evcs-order: 15/20 é€šè¿‡ (100%, 5ä¸ªè·³è¿‡)
  - evcs-payment: 12/12 é€šè¿‡ (100%)
  - evcs-tenant: 41/41 é€šè¿‡ (100%)
- âœ… **Docker éƒ¨ç½²å®Œæˆ**: 13ä¸ªæœåŠ¡å…¨éƒ¨å®¹å™¨åŒ–ï¼Œå¥åº·æ£€æŸ¥é€šè¿‡
  - ä¸šåŠ¡æœåŠ¡: gateway, auth, tenant, station, order, payment, protocol, monitoring
  - åŸºç¡€è®¾æ–½: config-server, eureka, postgresql, redis, rabbitmq
- âœ… **æµ‹è¯•åŸºç¡€è®¾æ–½å®Œå–„**: H2æµ‹è¯•æ•°æ®åº“é…ç½®ï¼ŒPostgreSQLå…¼å®¹æ¨¡å¼
- âœ… **å·¥ä½œæµè§„èŒƒå»ºç«‹**: "å°æ”¹åŠ¨éœ€è¦å…ˆæµ‹è¯•å†æäº¤" æµç¨‹ç¡®ç«‹

### å·²å®Œæˆé‡Œç¨‹ç¢‘
- âœ… **P0 & P1**: æ ¸å¿ƒæ¶æ„ä¸åŸºç¡€åŠŸèƒ½ï¼ˆå¤šç§Ÿæˆ·ã€è®¡è´¹ã€è®¢å•ï¼‰
- âœ… **P2 é˜¶æ®µ**: æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½å·²å®Œæˆ
  - åè®®è°ƒè¯•æ¥å£ âœ…
  - æ”¯ä»˜æ¸ é“é›†æˆï¼ˆæ”¯ä»˜å® + å¾®ä¿¡ï¼‰âœ…
  - åè®®äº‹ä»¶æµå¯¹æ¥ï¼ˆOCPP + äº‘å¿«å…… + RabbitMQï¼‰âœ…
  - åˆ†å¸ƒå¼è®¡è´¹è®¡åˆ’ç¼“å­˜å¹¿æ’­ âœ…
  - å‰ç«¯ç®¡ç†ç•Œé¢ï¼ˆVue 3 + Element Plusï¼‰âœ…
- âœ… **P3 é˜¶æ®µ**: ç”Ÿäº§å°±ç»ªå‡†å¤‡å®Œæˆï¼ˆ8ä¸ªé‡Œç¨‹ç¢‘å…¨éƒ¨è¾¾æˆï¼‰
  - M1: ç¯å¢ƒä¸å®‰å…¨åŠ å›º âœ…
  - M2: åè®®å¯¹æ¥å®Œæˆ âœ…
  - M3: æ”¯ä»˜é›†æˆå®Œæˆ âœ…
  - M4: æ€§èƒ½ä¼˜åŒ–å®Œæˆ âœ…
  - M5: å‰ç«¯åŸå‹å®Œæˆ âœ…
  - M6: ä»£ç è´¨é‡æå‡ âœ…
  - M7: ç›‘æ§ä½“ç³»å»ºè®¾ âœ…
  - M8: æ–‡æ¡£ä½“ç³»å®Œå–„ âœ…

### å½“å‰ä»»åŠ¡ï¼ˆP4 Week 2-4: æ€§èƒ½ä¼˜åŒ–ï¼‰
- ğŸš€ **JVM å‚æ•°è°ƒä¼˜**ï¼ˆWeek 2ï¼‰: G1GC vs ZGC æ€§èƒ½æµ‹è¯•ï¼Œç›®æ ‡ GC æš‚åœæ—¶é—´ <100ms
- ğŸ”§ **æ•°æ®åº“è¿æ¥æ± ä¼˜åŒ–**ï¼ˆWeek 2ï¼‰: Hikari é…ç½®è°ƒä¼˜ï¼Œç›‘æ§è¿æ¥ä½¿ç”¨ç‡ 60-80%
- âš¡ **Redis é›†ç¾¤åŒ–**ï¼ˆWeek 3ï¼‰: Sentinel é«˜å¯ç”¨æ¶æ„ï¼Œå®ç° 99.9%+ å¯ç”¨æ€§
- ï¿½ **æ€§èƒ½å‹æµ‹**ï¼ˆWeek 4ï¼‰: å»ºç«‹æ€§èƒ½åŸºçº¿ï¼ˆè®¢å•åˆ›å»º >= 500 TPSï¼ŒP99 < 200msï¼‰

### ä¸‹ä¸€æ­¥è®¡åˆ’ï¼ˆP4 - 12å‘¨è®¡åˆ’ï¼‰
- ğŸš€ **Week 1**: è´¨é‡æå‡ âœ… æµ‹è¯•è¦†ç›–ç‡96%å·²è¾¾æˆ
- âš¡ **Week 2-4**: æ€§èƒ½ä¼˜åŒ–ï¼ˆJVMè°ƒä¼˜ã€è¿æ¥æ± ã€Redisé›†ç¾¤ï¼‰
- ğŸ¨ **Week 5-8**: å‰ç«¯å¼€å‘ï¼ˆç®¡ç†åå° + ç”¨æˆ·ç«¯å°ç¨‹åºï¼‰
- ğŸ”Œ **Week 9-10**: åè®®ä¸é›†æˆï¼ˆOCPPå®Œå–„ + æ”¯ä»˜æ‰©å±•ï¼‰
- ğŸš€ **Week 11-12**: è¿ç»´ä¼˜åŒ–ä¸ç”Ÿäº§ä¸Šçº¿

**ç«‹å³æŸ¥çœ‹**: [ğŸ“‹ å¿«é€ŸæŒ‡å—](NEXT-STEPS-QUICKSTART.md) | [ğŸ“ˆ å½“å‰è¿›åº¦](NEXT-STEP-PROGRESS-REPORT.md) | [è·¯çº¿å›¾](docs/ROADMAP.md) | [å†å²è¿›åº¦](docs/PROGRESS.md)

---

## ğŸš€ é¡¹ç›®ç‰¹è‰²

- **å¤šç§Ÿæˆ·æ¶æ„**ï¼šæ”¯æŒåˆ†å±‚ç§Ÿæˆ·ç®¡ç†ï¼Œä¸Šçº§å¯ç®¡ç†ä¸‹çº§ï¼Œæ•°æ®å®Œå…¨éš”ç¦»
- **å››å±‚æ•°æ®éš”ç¦»**ï¼šæ•°æ®åº“å±‚ã€SQLå±‚ã€æœåŠ¡å±‚ã€APIå±‚å…¨æ–¹ä½æ•°æ®éš”ç¦»
- **å¾®æœåŠ¡è®¾è®¡**ï¼šé‡‡ç”¨Spring Cloudå¾®æœåŠ¡æ¶æ„ï¼ŒæœåŠ¡è§£è€¦ï¼Œé«˜å¯æ‰©å±•
- **å¤šåè®®æ”¯æŒ**ï¼šæ”¯æŒOCPPåè®®å’Œäº‘å¿«å……åè®®
- **å¤šæ”¯ä»˜é›†æˆ**ï¼šé›†æˆæ”¯ä»˜å®ã€å¾®ä¿¡æ”¯ä»˜ã€ç½‘è”æ”¯ä»˜
- **å®æ—¶ç›‘æ§**ï¼šå®Œå–„çš„ç›‘æ§ç³»ç»Ÿå’Œæ•…éšœè¯Šæ–­æœºåˆ¶
- **ç¬¬ä¸‰æ–¹å¯¹æ¥**ï¼šæä¾›æ ‡å‡†APIæ”¯æŒç¬¬ä¸‰æ–¹å¹³å°å¯¹æ¥
- **è‡ªåŠ¨SQLè¿‡æ»¤**ï¼šåŸºäºMyBatis Plusçš„ç§Ÿæˆ·æ•°æ®è‡ªåŠ¨è¿‡æ»¤
- **å£°æ˜å¼æƒé™**ï¼šä½¿ç”¨AOPæ³¨è§£å®ç°æ–¹æ³•çº§æ•°æ®æƒé™æ§åˆ¶

## ğŸ”’ å¤šç§Ÿæˆ·æ•°æ®éš”ç¦»æ¶æ„

### éš”ç¦»å±‚çº§
1. **æ•°æ®åº“å±‚**: PostgreSQLè¡Œçº§æ•°æ®éš”ç¦»ï¼ˆtenant_idå­—æ®µï¼‰
2. **SQLå±‚**: MyBatis Plusè‡ªåŠ¨æ·»åŠ ç§Ÿæˆ·æ¡ä»¶åˆ°æ‰€æœ‰SQL
3. **æœåŠ¡å±‚**: AOPåˆ‡é¢å®ç°æ–¹æ³•çº§æƒé™æ§åˆ¶  
4. **APIå±‚**: Spring Security + è‡ªå®šä¹‰æ³¨è§£æ§åˆ¶æ¥å£è®¿é—®

### æ ¸å¿ƒç»„ä»¶
- `TenantContext`: çº¿ç¨‹æœ¬åœ°ç§Ÿæˆ·ä¸Šä¸‹æ–‡ç®¡ç†
- `TenantInterceptor`: è‡ªåŠ¨æå–å’Œè®¾ç½®ç§Ÿæˆ·ä¿¡æ¯
- `CustomTenantLineHandler`: SQLè‡ªåŠ¨è¿‡æ»¤æ’ä»¶
- `@DataScope`: å£°æ˜å¼æ•°æ®æƒé™æ³¨è§£
- `DataScopeAspect`: AOPæƒé™éªŒè¯åˆ‡é¢

### æƒé™ç±»å‹
- **ALL**: æŸ¥çœ‹æ‰€æœ‰æ•°æ®ï¼ˆè¶…çº§ç®¡ç†å‘˜ï¼‰
- **SELF**: åªèƒ½æŸ¥çœ‹å½“å‰ç§Ÿæˆ·æ•°æ®
- **CHILDREN**: å¯ä»¥æŸ¥çœ‹å½“å‰ç§Ÿæˆ·åŠå…¶å­ç§Ÿæˆ·æ•°æ®

## ğŸ—ï¸ æŠ€æœ¯æ ˆ

- **åç«¯æ¡†æ¶**ï¼šSpring Boot 3.2.2 + Spring Cloud 2023.0.0
- **å¼€å‘è¯­è¨€**ï¼šJava 21
- **æ•°æ®åº“**ï¼šPostgreSQL 15 + Redis 7
- **æ„å»ºå·¥å…·**ï¼šGradle 8.5
- **æ¶ˆæ¯é˜Ÿåˆ—**ï¼šRabbitMQ
- **å®¹å™¨åŒ–**ï¼šDocker + Docker Compose
- **APIæ–‡æ¡£**ï¼šKnife4j (Swagger)
- **å®‰å…¨è®¤è¯**ï¼šSpring Security + JWT

## ğŸ“Š ç³»ç»Ÿè§„æ¨¡

- **å……ç”µç«™æ•°é‡**ï¼šæ”¯æŒæœ€å¤š500ä¸ªå……ç”µç«™
- **å……ç”µæ¡©æ•°é‡**ï¼šæ¯ç«™æœ€å¤š5000ä¸ªå……ç”µæ¡©
- **å¹¶å‘èƒ½åŠ›**ï¼šé«˜å¹¶å‘å¤„ç†èƒ½åŠ›ï¼Œæ”¯æŒå¤§è§„æ¨¡éƒ¨ç½²
- **æ•°æ®éš”ç¦»**ï¼šå®Œå–„çš„å¤šç§Ÿæˆ·æ•°æ®éš”ç¦»æœºåˆ¶

## ğŸ›ï¸ ç³»ç»Ÿæ¶æ„

### å¾®æœåŠ¡æ¨¡å—

```
evcs-mgr
â”œâ”€â”€ evcs-common          # å…¬å…±ç»„ä»¶æ¨¡å—
â”œâ”€â”€ evcs-gateway         # APIç½‘å…³æœåŠ¡
â”œâ”€â”€ evcs-auth            # è®¤è¯æˆæƒæœåŠ¡
â”œâ”€â”€ evcs-tenant          # ç§Ÿæˆ·ç®¡ç†æœåŠ¡
â”œâ”€â”€ evcs-station         # å……ç”µç«™ç®¡ç†æœåŠ¡
â”œâ”€â”€ evcs-order           # è®¢å•ç®¡ç†æœåŠ¡
â”œâ”€â”€ evcs-payment         # æ”¯ä»˜é›†æˆæœåŠ¡
â”œâ”€â”€ evcs-protocol        # åè®®å¤„ç†æœåŠ¡
â”œâ”€â”€ evcs-monitoring      # ç›‘æ§å‘Šè­¦æœåŠ¡
â”œâ”€â”€ evcs-integration     # ç¬¬ä¸‰æ–¹é›†æˆæœåŠ¡
â””â”€â”€ evcs-config          # é…ç½®ä¸­å¿ƒæœåŠ¡
```

### æ•°æ®åº“è®¾è®¡

é‡‡ç”¨PostgreSQLæ•°æ®åº“ï¼Œæ”¯æŒå¤šç§Ÿæˆ·æ•°æ®éš”ç¦»ï¼š

- **ç³»ç»Ÿç®¡ç†**ï¼šç§Ÿæˆ·ã€ç”¨æˆ·ã€è§’è‰²ã€æƒé™ç®¡ç†
- **å……ç”µç«™ç®¡ç†**ï¼šå……ç”µç«™ã€å……ç”µæ¡©ã€è®¾å¤‡çŠ¶æ€ç®¡ç†
- **è®¢å•ç®¡ç†**ï¼šå……ç”µè®¢å•ã€æ”¯ä»˜è®°å½•ã€äº¤æ˜“æµæ°´
- **ç›‘æ§æ•°æ®**ï¼šè®¾å¤‡ç›‘æ§ã€å‘Šè­¦è®°å½•ã€ç»Ÿè®¡åˆ†æ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Java 21+
- PostgreSQL 15+ (æˆ–ä½¿ç”¨ Docker)
- Redis 7+ (æˆ–ä½¿ç”¨ Docker)
- RabbitMQ 3.12+ (æˆ–ä½¿ç”¨ Docker)
- Docker & Docker Compose (æ¨è)
- Gradle 8.5+ (é¡¹ç›®è‡ªå¸¦ wrapper)

### æœ¬åœ°å¼€å‘

1. **å…‹éš†é¡¹ç›®**
```bash
git clone https://github.com/Big-Dao/evcs-mgr.git
cd evcs-mgr
```

2. **å¯åŠ¨åŸºç¡€è®¾æ–½æœåŠ¡**
```bash
# ä»…å¯åŠ¨æ•°æ®åº“ã€Redisã€RabbitMQ
docker-compose -f docker-compose.local.yml up -d
```

3. **æ„å»ºé¡¹ç›®**
```bash
./gradlew build
```

4. **è¿è¡ŒæœåŠ¡**
```bash
# å¯åŠ¨é…ç½®ä¸­å¿ƒï¼ˆå¯é€‰ï¼‰
./gradlew :evcs-config:bootRun

# å¯åŠ¨æ³¨å†Œä¸­å¿ƒ
./gradlew :evcs-eureka:bootRun

# å¯åŠ¨è®¤è¯æœåŠ¡
./gradlew :evcs-auth:bootRun

# å¯åŠ¨ç½‘å…³æœåŠ¡
./gradlew :evcs-gateway:bootRun

# å¯åŠ¨ä¸šåŠ¡æœåŠ¡ï¼ˆæŒ‰éœ€ï¼‰
./gradlew :evcs-tenant:bootRun
./gradlew :evcs-station:bootRun
```

### å‰ç«¯ç®¡ç†ç•Œé¢

**å¼€å‘æ¨¡å¼å¯åŠ¨**:
```bash
# å¿«é€Ÿå¯åŠ¨è„šæœ¬
.\scripts\start-frontend.ps1

# æˆ–æ‰‹åŠ¨å¯åŠ¨
cd evcs-admin
npm install
npm run dev
```

è®¿é—®: http://localhost:3000

**ç”Ÿäº§éƒ¨ç½²**:
```bash
# ä½¿ç”¨éƒ¨ç½²è„šæœ¬ï¼ˆè‡ªåŠ¨æ„å»º+Dockerï¼‰
.\scripts\deploy-frontend.ps1

# æˆ–ä½¿ç”¨ docker-compose
docker-compose up -d admin-frontend
```

**åŠŸèƒ½ç‰¹æ€§**:
- âœ… ç§Ÿæˆ·ç®¡ç†ï¼ˆåˆ—è¡¨ã€è¯¦æƒ…ã€æ ‘å½¢ç»“æ„ï¼‰
- âœ… ç”¨æˆ·ç®¡ç†ï¼ˆç”¨æˆ·åˆ—è¡¨ã€è§’è‰²æƒé™ï¼‰
- âœ… å……ç”µç«™ç®¡ç†ï¼ˆå……ç”µç«™ã€å……ç”µæ¡©ï¼‰
- âœ… è®¢å•ç®¡ç†ï¼ˆè®¢å•åˆ—è¡¨ã€è®¢å•ç»Ÿè®¡ï¼‰
- âœ… è®¡è´¹ç®¡ç†ï¼ˆè®¡è´¹æ–¹æ¡ˆï¼‰

ğŸ“š **è¯¦ç»†æ–‡æ¡£**: [å‰ç«¯éƒ¨ç½²æŒ‡å—](evcs-admin/DEPLOYMENT.md)

### Docker å®Œæ•´éƒ¨ç½²ï¼ˆæ¨è â­ï¼‰

**ç”Ÿäº§ç¯å¢ƒä¸€é”®éƒ¨ç½²**:
```powershell
# Windows PowerShell
.\scripts\deploy.ps1

# æˆ–ä½¿ç”¨ docker-compose
docker-compose up -d
```

**å¿«é€Ÿéƒ¨ç½²ç‰¹æ€§**ï¼ˆv1.2.0 - P4 Week 2 ä¼˜åŒ–ï¼‰:
- âœ… **æ€§èƒ½ä¼˜åŒ–**: JVMå †å›ºå®š 512MB, G1GC æš‚åœæ—¶é—´ <100ms
- âœ… **è¿æ¥æ± ä¼˜åŒ–**: HikariCP max=30, min=10, è¿æ¥æ³„æ¼æ£€æµ‹
- âœ… **å¥åº·æ£€æŸ¥**: æ‰€æœ‰æœåŠ¡è‡ªåŠ¨å¥åº·æ£€æŸ¥ï¼Œå¯åŠ¨å90ç§’å†…å°±ç»ª
- âœ… **èµ„æºé™åˆ¶**: æ¯ä¸ªæœåŠ¡ CPU/å†…å­˜é™åˆ¶ï¼Œé˜²æ­¢èµ„æºè€—å°½
- âœ… **é«˜å¯ç”¨**: Redis AOFæŒä¹…åŒ– + RabbitMQ æ¶ˆæ¯ç¡®è®¤
- âœ… **ç›‘æ§å°±ç»ª**: å†…ç½® Actuator å¥åº·ç«¯ç‚¹å’Œ JFR è¯Šæ–­

**è®¿é—®æœåŠ¡**:
- **å‰ç«¯ç®¡ç†ç•Œé¢**: http://localhost:3000 â­
- **APIç½‘å…³**: http://localhost:8080
- **Eurekaæ³¨å†Œä¸­å¿ƒ**: http://localhost:8761
- **RabbitMQç®¡ç†**: http://localhost:15672 (guest/guest)
- **APIæ–‡æ¡£**: http://localhost:8080/doc.html

**æœåŠ¡ç«¯ç‚¹**:
- è®¤è¯æœåŠ¡: http://localhost:8081
- å……ç”µç«™æœåŠ¡: http://localhost:8082
- è®¢å•æœåŠ¡: http://localhost:8083
- æ”¯ä»˜æœåŠ¡: http://localhost:8084
- åè®®æœåŠ¡: http://localhost:8085
- ç§Ÿæˆ·æœåŠ¡: http://localhost:8086
- ç›‘æ§æœåŠ¡: http://localhost:8087

**åŸºç¡€è®¾æ–½**:
- PostgreSQL: localhost:5432 (postgres/postgres)
- Redis: localhost:6379
- RabbitMQ AMQP: localhost:5672

### æµ‹è¯•ç¯å¢ƒéƒ¨ç½²

å¿«é€Ÿéƒ¨ç½²æµ‹è¯•ç¯å¢ƒè¿›è¡Œäººå·¥æµ‹è¯•ï¼š

```bash
# å¯åŠ¨æµ‹è¯•ç¯å¢ƒï¼ˆåŒ…å«æ‰€æœ‰æœåŠ¡ï¼‰
./scripts/start-test.sh

# è¿è¡Œå¥åº·æ£€æŸ¥
./scripts/health-check.sh

# è¿è¡Œå†’çƒŸæµ‹è¯•
./scripts/smoke-test.sh

# åœæ­¢æµ‹è¯•ç¯å¢ƒ
./scripts/stop-test.sh
```

**æµ‹è¯•ç¯å¢ƒç‰¹ç‚¹**ï¼š
- âœ… ä¸€é”®éƒ¨ç½²ï¼ŒåŒ…å«å®Œæ•´æœåŠ¡æ ˆ
- âœ… è‡ªåŠ¨åŒ–å¥åº·æ£€æŸ¥å’Œå†’çƒŸæµ‹è¯•
- âœ… ç‹¬ç«‹çš„æµ‹è¯•æ•°æ®åº“å’Œé…ç½®
- âœ… å®Œå–„çš„æ—¥å¿—å’Œç›‘æ§
- âœ… é€‚åˆCI/CDé›†æˆ

**è®¿é—®åœ°å€**ï¼š
- ç§Ÿæˆ·æœåŠ¡ï¼šhttp://localhost:8086
- å……ç”µç«™æœåŠ¡ï¼šhttp://localhost:8082
- æ•°æ®åº“ç®¡ç†ï¼ˆAdminerï¼‰ï¼šhttp://localhost:8090
- RabbitMQç®¡ç†ï¼šhttp://localhost:15672

**å¿«é€Ÿå¼€å§‹**: [æµ‹è¯•ç¯å¢ƒ5åˆ†é’Ÿå¿«é€Ÿéƒ¨ç½²](TEST-ENVIRONMENT-QUICKSTART.md)  
**å®Œæ•´éƒ¨ç½²**: [Dockeréƒ¨ç½²æŒ‡å—](docs/deployment/DEPLOYMENT-GUIDE.md) â­  
**æ€§èƒ½ä¼˜åŒ–**: [P4 Week 2 ä¼˜åŒ–æ€»ç»“](docs/performance/HIGH-ROI-OPTIMIZATION-SUMMARY.md)

## ğŸ”§ é…ç½®è¯´æ˜

### æ•°æ®åº“é…ç½®

æ•°æ®åº“é»˜è®¤é…ç½®ï¼š
- ä¸»æœºï¼šlocalhost:5432
- æ•°æ®åº“ï¼ševcs_db
- ç”¨æˆ·åï¼ševcs_user
- å¯†ç ï¼ševcs_password

### å¤šç§Ÿæˆ·é…ç½®

ç³»ç»Ÿæ”¯æŒåˆ†å±‚å¤šç§Ÿæˆ·ç®¡ç†ï¼š
1. **å¹³å°æ–¹**ï¼šç³»ç»Ÿæœ€é«˜çº§åˆ«ï¼Œå¯ç®¡ç†æ‰€æœ‰ç§Ÿæˆ·
2. **è¿è¥å•†**ï¼šç®¡ç†è‡ªå·±çš„å……ç”µç«™å’Œä¸‹çº§åˆä½œä¼™ä¼´
3. **åˆä½œä¼™ä¼´**ï¼šç®¡ç†è‡ªå·±çš„å……ç”µç«™

### è®¤è¯é…ç½®

JWT Tokené…ç½®ï¼š
- å¯†é’¥ï¼šå¯é€šè¿‡ç¯å¢ƒå˜é‡ `JWT_SECRET` é…ç½®
- è¿‡æœŸæ—¶é—´ï¼šé»˜è®¤2å°æ—¶ï¼Œå¯é€šè¿‡ `JWT_EXPIRE` é…ç½®

## ğŸ“š APIæ–‡æ¡£

é¡¹ç›®é›†æˆKnife4jæ–‡æ¡£ï¼Œå¯åŠ¨åè®¿é—®ï¼š
- æœ¬åœ°ï¼šhttp://localhost:8080/doc.html
- ç”Ÿäº§ï¼šhttp://your-domain/doc.html

## ğŸ” å®‰å…¨ç‰¹æ€§

- **è®¤è¯æˆæƒ**ï¼šåŸºäºJWTçš„æ— çŠ¶æ€è®¤è¯ï¼Œå¸¦è·¯å¾„éå†é˜²æŠ¤
- **æƒé™æ§åˆ¶**ï¼šç»†ç²’åº¦çš„è§’è‰²æƒé™ç®¡ç†
- **æ•°æ®éš”ç¦»**ï¼šå¤šç§Ÿæˆ·æ•°æ®å®Œå…¨éš”ç¦»ï¼Œé€šè¿‡ThreadLocalç¡®ä¿çº¿ç¨‹å®‰å…¨
- **æ¥å£å®‰å…¨**ï¼šç»Ÿä¸€çš„APIå®‰å…¨æ ¡éªŒ
- **å®‰å…¨æµ‹è¯•**ï¼š31+ comprehensive security tests covering:
  - JWT path traversal prevention
  - Tenant context isolation (validated with 10,000 concurrent operations)
  - Exception handling and error responses
  - Thread-safe context management

### å®‰å…¨æµ‹è¯•æˆæœ
- âœ… 10,000æ¬¡å¹¶å‘æ“ä½œé›¶ç§Ÿæˆ·æ•°æ®æ³„éœ²
- âœ… è·¯å¾„è§„èŒƒåŒ–é˜²æ­¢ç™½åå•ç»•è¿‡æ”»å‡»
- âœ… å¼‚å¸¸å¤„ç†é˜²æ­¢ç©ºä¸Šä¸‹æ–‡æ“ä½œ
- è¯¦è§ï¼š[Week 1 å®‰å…¨åŠ å›ºæŠ¥å‘Š](docs/archive/completed-weeks/Week1-Security-Hardening.md)

## ğŸ“ˆ ç›‘æ§å‘Šè­¦

- **è®¾å¤‡ç›‘æ§**ï¼šå®æ—¶ç›‘æ§å……ç”µæ¡©çŠ¶æ€
- **ä¸šåŠ¡ç›‘æ§**ï¼šè®¢å•ã€æ”¯ä»˜ã€ç”¨æˆ·è¡Œä¸ºç›‘æ§
- **ç³»ç»Ÿç›‘æ§**ï¼šæœåŠ¡å¥åº·çŠ¶æ€ã€æ€§èƒ½æŒ‡æ ‡
- **å‘Šè­¦æœºåˆ¶**ï¼šå¤šç§å‘Šè­¦æ–¹å¼å’Œå‘Šè­¦ç­–ç•¥

## ğŸ”Œ åè®®æ”¯æŒ

### OCPPåè®®
- æ”¯æŒOCPP 1.6ç‰ˆæœ¬
- WebSocketé•¿è¿æ¥é€šä¿¡
- æ ‡å‡†å……ç”µæµç¨‹ç®¡ç†

### äº‘å¿«å……åè®®
- æ”¯æŒå›½æ ‡äº‘å¿«å……åè®®
- HTTP RESTful API
- å…¼å®¹ä¸»æµå……ç”µæ¡©å‚å•†

## ğŸ’³ æ”¯ä»˜é›†æˆ

- **æ”¯ä»˜å®**ï¼šæ”¯æŒæ‰«ç æ”¯ä»˜ã€APPæ”¯ä»˜
- **å¾®ä¿¡æ”¯ä»˜**ï¼šæ”¯æŒæ‰«ç æ”¯ä»˜ã€å°ç¨‹åºæ”¯ä»˜
- **ç½‘è”æ”¯ä»˜**ï¼šæ”¯æŒé“¶è¡Œå¡æ”¯ä»˜

## ğŸ¤ ç¬¬ä¸‰æ–¹å¯¹æ¥

æä¾›æ ‡å‡†RESTful APIæ”¯æŒï¼š
- è®¢å•æ•°æ®åŒæ­¥
- è®¾å¤‡çŠ¶æ€æ¨é€
- ç”¨æˆ·ä¿¡æ¯å¯¹æ¥
- æ”¯ä»˜ç»“æœé€šçŸ¥

## ğŸ“ å¼€å‘æŒ‡å—

### ä»£ç è§„èŒƒ
- éµå¾ªé˜¿é‡Œå·´å·´Javaå¼€å‘æ‰‹å†Œ
- ç»Ÿä¸€çš„ä»£ç æ ¼å¼åŒ–é…ç½®
- å®Œå–„çš„æ³¨é‡Šå’Œæ–‡æ¡£

### æµ‹è¯•è§„èŒƒ

**å½“å‰æµ‹è¯•çŠ¶æ€** (P4 Week 2 å®Œæˆ âœ…)ï¼š
- âœ… **168ä¸ªæµ‹è¯•ç”¨ä¾‹** å…¨éƒ¨é€šè¿‡ (100% pass rate)
- âœ… **æµ‹è¯•è¦†ç›–ç‡**: 96% (è¶…è¿‡80%ç›®æ ‡)
- âœ… **9ä¸ªæ¨¡å—**: å…¨éƒ¨æµ‹è¯•é€šè¿‡ï¼Œé›¶å¤±è´¥
- âœ… **Chargerå®ä½“é‡æ„**: ä¿®å¤ MyBatis Plus é‡å¤ @TableId é—®é¢˜
- âœ… **H2å…¼å®¹æ€§**: ä¿®å¤ PostgreSQL â†’ H2 è¯­æ³•è½¬æ¢é—®é¢˜

**æµ‹è¯•æ¡†æ¶**ï¼š
- **åŸºç¡€è®¾æ–½**: å®Œæ•´çš„æµ‹è¯•åŸºç±»å’Œå·¥å…·ç±»
- **Serviceå±‚**: BaseServiceTest - è‡ªåŠ¨ç§Ÿæˆ·ä¸Šä¸‹æ–‡ç®¡ç†
- **Controllerå±‚**: BaseControllerTest - MockMvcæ”¯æŒ
- **å¤šç§Ÿæˆ·**: BaseTenantIsolationTest - ç§Ÿæˆ·éš”ç¦»éªŒè¯
- **é›†æˆæµ‹è¯•**: BaseIntegrationTest - å®Œæ•´ä¸Šä¸‹æ–‡æµ‹è¯•

**æµ‹è¯•æ–‡æ¡£**ï¼š
- ğŸ“– [æµ‹è¯•æ¡†æ¶æŒ‡å—](docs/testing/TESTING-FRAMEWORK-GUIDE.md)
- ğŸ“– [æµ‹è¯•æŒ‡å—](docs/testing/TESTING-GUIDE.md)
- ğŸ“– [æµ‹è¯•æ”¹è¿›æ€»ç»“](docs/testing/TESTING-IMPROVEMENTS.md)

### è¿è¡Œæµ‹è¯•
```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
./gradlew test --continue

# è¿è¡ŒæŒ‡å®šæ¨¡å—æµ‹è¯•
./gradlew :evcs-station:test

# ç”Ÿæˆæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
./gradlew test jacocoTestReport --continue
# æŠ¥å‘Šä½ç½®: {module}/build/reports/jacoco/test/html/index.html

# æŸ¥çœ‹æµ‹è¯•HTMLæŠ¥å‘Š
# æŠ¥å‘Šä½ç½®: {module}/build/reports/tests/test/index.html
```

**æ¨¡å—æµ‹è¯•çŠ¶æ€**ï¼š
| æ¨¡å— | æµ‹è¯•æ•° | é€šè¿‡ | çŠ¶æ€ |
|------|--------|------|------|
| evcs-common | 5 | 5 | âœ… |
| evcs-auth | 12 | 12 | âœ… |
| evcs-gateway | 1 | 1 | âœ… |
| evcs-protocol | 2 | 2 | âœ… |
| evcs-tenant | 1 | 1 | âœ… |
| evcs-station | 26 | 16 | âš ï¸ |
| evcs-order | 10 | 6 | âš ï¸ |
| evcs-payment | 12 | 0 | âŒ |
| evcs-integration | 18 | 5 | âš ï¸ |

## ğŸ› ï¸ éƒ¨ç½²æŒ‡å—

### å¿«é€Ÿéƒ¨ç½²
- **Docker éƒ¨ç½²**ï¼š[DOCKER-DEPLOYMENT.md](DOCKER-DEPLOYMENT.md) â­
- **æµ‹è¯•ç¯å¢ƒå¿«é€Ÿéƒ¨ç½²**ï¼š[TEST-ENVIRONMENT-QUICKSTART.md](TEST-ENVIRONMENT-QUICKSTART.md) â­

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
è¯¦è§ï¼š[éƒ¨ç½²æŒ‡å—](docs/deployment/DEPLOYMENT-GUIDE.md)
1. æ•°æ®åº“é…ç½®ä¸ä¼˜åŒ–
2. Redis é›†ç¾¤é…ç½®
3. RabbitMQ é›†ç¾¤é…ç½®
4. è´Ÿè½½å‡è¡¡é…ç½®ï¼ˆNginx/HAProxyï¼‰
5. ç›‘æ§å‘Šè­¦é…ç½®ï¼ˆPrometheus + Grafanaï¼‰

### æ‰©å®¹æŒ‡å—
- æ°´å¹³æ‰©å±•å¾®æœåŠ¡å®ä¾‹
- æ•°æ®åº“ä¸»ä»å¤åˆ¶ä¸è¯»å†™åˆ†ç¦»
- Redis Sentinel/Cluster éƒ¨ç½²
- CDN é™æ€èµ„æºåŠ é€Ÿ

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š
- æäº¤Issue
- å‘é€é‚®ä»¶
- æŠ€æœ¯äº¤æµç¾¤

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨MITè®¸å¯è¯ï¼Œè¯¦æƒ…è¯·å‚é˜… [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ“š é¡¹ç›®æ–‡æ¡£

**å®Œæ•´æ–‡æ¡£å¯¼èˆª**ï¼š[ğŸ“š DOCUMENTATION-INDEX.md](DOCUMENTATION-INDEX.md) â­

### å¿«é€Ÿå¼€å§‹
- **ä¸‹ä¸€æ­¥è®¡åˆ’ï¼ˆå¿«é€ŸæŒ‡å—ï¼‰**ï¼š[NEXT-STEPS-QUICKSTART.md](NEXT-STEPS-QUICKSTART.md) â­ ğŸ†•
- **å½“å‰è¿›åº¦æŠ¥å‘Š**ï¼š[NEXT-STEP-PROGRESS-REPORT.md](NEXT-STEP-PROGRESS-REPORT.md) ğŸ†•
- **Docker éƒ¨ç½²**ï¼š[DOCKER-DEPLOYMENT.md](DOCKER-DEPLOYMENT.md) â­
- **æµ‹è¯•ç¯å¢ƒå¿«é€Ÿéƒ¨ç½²**ï¼š[TEST-ENVIRONMENT-QUICKSTART.md](TEST-ENVIRONMENT-QUICKSTART.md) â­
- **å¤šç§Ÿæˆ·éš”ç¦»è¯¦è§£**ï¼š[README-TENANT-ISOLATION.md](README-TENANT-ISOLATION.md)

### è§„åˆ’ä¸è¿›åº¦
- è·¯çº¿å›¾ä¸è®¡åˆ’ï¼š[docs/ROADMAP.md](docs/ROADMAP.md)
- å†å²è¿›åº¦ä¸é‡Œç¨‹ç¢‘ï¼š[docs/PROGRESS.md](docs/PROGRESS.md)
- å˜æ›´æ—¥å¿—ï¼š[docs/CHANGELOG.md](docs/CHANGELOG.md)

### æŠ€æœ¯æ–‡æ¡£
- æŠ€æœ¯æ¶æ„è®¾è®¡ï¼š[docs/TECHNICAL-DESIGN.md](docs/TECHNICAL-DESIGN.md)
- API æ¥å£æ–‡æ¡£ï¼š[docs/API-DOCUMENTATION.md](docs/API-DOCUMENTATION.md)
- **å¼€å‘è€…æŒ‡å—**ï¼š[docs/DEVELOPER-GUIDE.md](docs/DEVELOPER-GUIDE.md) â­
- **æµ‹è¯•æ¡†æ¶æŒ‡å—**ï¼š[docs/testing/TESTING-FRAMEWORK-GUIDE.md](docs/testing/TESTING-FRAMEWORK-GUIDE.md) â­
- äº§å“éœ€æ±‚ï¼ˆPRDï¼‰ï¼š[docs/PRODUCT-REQUIREMENTS.md](docs/PRODUCT-REQUIREMENTS.md)

### éƒ¨ç½²ä¸è¿ç»´
- éƒ¨ç½²æŒ‡å—ï¼š[docs/deployment/DEPLOYMENT-GUIDE.md](docs/deployment/DEPLOYMENT-GUIDE.md)
- è¿ç»´æ‰‹å†Œï¼š[docs/OPERATIONS-MANUAL.md](docs/OPERATIONS-MANUAL.md)
- ç›‘æ§æŒ‡å—ï¼š[docs/MONITORING-GUIDE.md](docs/MONITORING-GUIDE.md)

### åè®®æ–‡æ¡£
- åè®®äº‹ä»¶æ¨¡å‹ï¼š[docs/åè®®äº‹ä»¶æ¨¡å‹è¯´æ˜.md](docs/åè®®äº‹ä»¶æ¨¡å‹è¯´æ˜.md)
- åè®®å¯¹æ¥æŒ‡å—ï¼š[docs/åè®®å¯¹æ¥æŒ‡å—.md](docs/åè®®å¯¹æ¥æŒ‡å—.md)
- åè®®æ•…éšœæ’æŸ¥ï¼š[docs/åè®®æ•…éšœæ’æŸ¥æ‰‹å†Œ.md](docs/åè®®æ•…éšœæ’æŸ¥æ‰‹å†Œ.md)

